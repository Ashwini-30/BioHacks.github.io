<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioHacks</title>
    <link rel="icon" href="hm.ico" type="image/x-icon">
    <style>
        
        body {
            background-image: url('bgh.jpg'); 
            background-size: cover; 
            background-repeat: no-repeat;
            background-attachment: fixed; 
            font-family: Arial, sans-serif;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }

        .hangman-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 500px;
            height: 100px;
            background-color: hsl(0, 0%, 91%);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .word-display {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .description {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .word-count {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 16px;
            color: black; /* Add a color to make it visible */
        }

        .keyboard {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .letter-button {
            font-size: 1.5em;
            padding: 10px 20px;
            border: none;
            background-color: #3498db;
            color: #fff;
            cursor: pointer;
            border-radius: 30px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .letter-button.used {
            background-color: #e74c3c; 
        }

        .letter-button.correct {
            background-color: #2ecc71; 
        }

        .letter-button:hover {
            background-color: #163041;
            transform: scale(1.05);
        }

        .score-guesses {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.5em;
            margin-top: 10px;
            padding-top: 20px;
        }

        /* Style for the "Next" button */
        .next-button {
            font-size: 1.5em;
            padding: 10px 20px;
            background-color: #27ae60;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 30px;
            margin-top: 20px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .next-button:hover {
            background-color: #0d5a2c;
            transform: scale(1.05);
        }
        #wordId {
        font-size: 1.2em;
        margin-top: 10px;
        color: #333; /* Choose your desired text color */
    }
    </style>
</head>
<body>
    <h1 style="color: rgb(10, 7, 56); font-family:'Pacifico', cursive;">BioHacks Hangman</h1>
    <div class="score-guesses">
        <div class="score" id="scoreDisplay" style="padding-left: 1000px; margin-top:0px; color:rgb(10, 7, 56); font-size: 30px;">Score: 0</div>
    </div>
    <div class="hangman-container" style="margin-top: 0px;">
        <div class="word-display" id="wordDisplay"></div>
        <div class="description" id="description"></div>
    </div>
    <div class="keyboard" id="keyboard" style="padding-top: 20px;">
        <!-- Alphabet buttons generated by JavaScript -->
    </div>
    <div class="score-guesses">
        <div class="guesses-left" id="guessesLeftDisplay" style="color:rgb(10, 7, 56); font-size: 30px;">Guesses Left: 5</div>
    </div>
    <button class="next-button" id="nextButton" style="display: none;">Next</button>
    <div id="wordCount" style="position: absolute; top: 600px; right: 30px; font-size: 30px; color: rgb(10, 7, 56);"></div> <!-- New element for word count -->

    
    <script>
        const words = [
            { word: "physiotherapy", description: "Rehabilitation facilitates recovery and boosts physical well-being"},
            { word: "automation", description: "Efficiency, reduced labor, and precision through automated processes" },
            { word: "genomics", description: "Study of an organism's complete DNA" },
            { word: "biomaterials", description: "Substances for medical or engineering applications" },
            { word: "prosthodontics", description: "Dental specialty for dental prostheses" },
            { word: "neuroprosthetics", description: "Devices to replace lost neural functions" },
            { word: "microbiology", description: "Study of microscopic organisms" },
            { word: "biophysics", description: "Application of physics to biological systems" },
            { word: "informatics", description: "Data-driven science, technology, and analysis field"},  
            { word: "nanotechnology", description: "Manipulation of matter at the nanoscale" },
            { word: "measurement", description: "Determination of quantity or size" },
            { word: "lithotripsy", description: "Treatment to dissolve salt accumulation" },
            { word: "ophthalmology", description: "Medical field focused on eye health"},
            { word: "pathophysiology", description: "Study of disease mechanics in body"},
            { word: "sphygmomanometer", description: "Measure the force of blood flow"}
        ];

        for (let i = words.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [words[i], words[j]] = [words[j], words[i]];
        }

        let wordIndex = -1;
        let selectedWord = "";
        const wordDisplay = document.getElementById("wordDisplay");
        const descriptionDisplay = document.getElementById("description");
        const keyboard = document.getElementById("keyboard");
        const scoreDisplay = document.getElementById("scoreDisplay");
        const guessesLeftDisplay = document.getElementById("guessesLeftDisplay");
        const nextButton = document.getElementById("nextButton");
        const wordCount = document.getElementById("wordCount"); // Element for word count
        const urlParams = new URLSearchParams(window.location.search);
        const playerName = urlParams.get("name");
        localStorage.setItem("playerName", playerName);

        let score = 0; // Initialize score
        let guessesLeft = 5;
        let wordsPlayed = 0;
        const correctLetters = [];
        const incorrectLetters = [];

        let wordNumber = 0; // Initialize wordNumber to 0

        function displayWord() {
            wordDisplay.innerHTML = selectedWord
                .split("")
                .map(letter => (correctLetters.includes(letter) ? letter : "_"))
                .join(" ");
        }

        function displayDescription() {
            descriptionDisplay.textContent = selectedWord ? words[wordIndex].description : "";
        }

        function updateKeyboard() {
            keyboard.innerHTML = "abcdefghijklmnopqrstuvwxyz"
                .split("")
                .map(letter => {
                    if (correctLetters.includes(letter)) {
                        return `<button class="letter-button used correct">${letter}</button>`;
                    } else if (incorrectLetters.includes(letter)) {
                        return `<button class="letter-button used">${letter}</button>`;
                    } else {
                        return `<button class="letter-button" onClick="handleLetterClick('${letter}')">${letter}</button>`;
                    }
                })
                .join("");
        }

        function handleLetterClick(letter) {
            if (selectedWord.includes(letter)) {
                if (!correctLetters.includes(letter)) {
                    correctLetters.push(letter);
                    displayWord();
                    if (selectedWord === wordDisplay.textContent.replace(/ /g, "")) {
                        increaseScore(guessesLeft);
                    }
                }
            } else {
                if (!incorrectLetters.includes(letter)) {
                    incorrectLetters.push(letter);
                    decreaseGuessesLeft();
                }
            }

            updateKeyboard();
            checkWinLoss();
        }

        function increaseScore(amount) {
            score += amount; // Increase the score
            scoreDisplay.textContent = `Score: ${score}`;
        }

        function decreaseGuessesLeft() {
            if (guessesLeft > 0) {
                guessesLeft--;
                guessesLeftDisplay.textContent = `Guesses Left: ${guessesLeft}`;
            }
        }

        function checkWinLoss() {
            if (selectedWord === wordDisplay.textContent.replace(/ /g, "") && guessesLeft > 0) {
                wordsPlayed++;
                if (wordsPlayed === words.length) {
                    // All words have been played, move to end.html
                    endGame();
                } else {
                    updateWordCount(); // Update word count
                    nextButton.style.display = "block";
                    nextButton.addEventListener("click", startNewGame);
                }
            } else if (guessesLeft === 0) {
                wordsPlayed++;
                if (wordsPlayed === words.length) {
                    // All words have been played, move to end.html
                    endGame();
                } else {
                    updateWordCount(); // Update word count
                    wordDisplay.textContent = `Wrong! The word was "${selectedWord}".`;
                    nextButton.style.display = "block";
                    nextButton.addEventListener("click", startNewGame);
                }
            }
        }

        function startNewGame() {
            if (wordsPlayed < words.length) {
                wordIndex++;
                selectedWord = words[wordIndex].word;
                correctLetters.length = 0;
                incorrectLetters.length = 0;
                displayWord();
                displayDescription();
                updateKeyboard();
                guessesLeft = 5;
                guessesLeftDisplay.textContent = `Guesses Left: ${guessesLeft}`;
                nextButton.style.display = "none";
                wordNumber++; // Increment the word number
                updateWordCount(); // Update word count
            }
        }

        function endGame() {
            // All words have been played, move to end.html
            localStorage.setItem("playerScore", score);
            window.location.href = "end.html";
        }

        function updateWordCount() {
            wordCount.textContent = `${wordNumber}/${words.length}`;
        }

        startNewGame();
        updateWordCount();
    </script>
</body>
</html>